# Step 4: 관심사 분리 (도메인 ↔ UI 분리)

이 코드는 **기능적으로 완벽하게 동작하며**, 앞선 스텝의 교훈(`early return`, `메서드 분리`, `이름 짓기`)이 어느 정도 반영되어 있습니다.
하지만 치명적인 문제가 있습니다! **비즈니스 로직(판정) 중간중간 콘솔 출력(`console.log`)이 강하게 결합되어(Coupled) 있습니다.**

이로 인해 2가지 문제가 발생합니다:
1. `play()` 함수가 어떤 텍스트를 출력하는지 자동화된 단위 테스트로 검증하기가 극도로 까다롭습니다.
2. 나중에 이 게임을 콘솔이 아니라 웹(Web/React)이나 모바일 앱으로 이식해야 한다면 코드를 전부 다시 짜야 합니다.

## 🎯 학습 목표
- Model(도메인 데이터)과 View(사용자 인터페이스)를 철저하게 분리하는 감각을 익힙니다.
- 단위 테스트하기 쉬운 '순수한 로직'을 만듭니다.

## 📝 요구 사항
1. `consoleUmpire.ts` 코드 내부에서 `console.log`와 관련된 로직을 밖으로 빼내세요.
2. (선택 추가 사항) `ConsoleUmpire`는 판정만 수행하고, 출력 기능은 전혀 없는 순수한 `Umpire` 클래스(또는 객체를 반환하는 구조)로 개선하세요.
3. 결과물 포맷팅 로직(예: "1볼 1스트라이크")을 도메인 객체가 문자열로 반환하거나 별도의 View를 만들어 처리하게 구조를 변경하세요.
4. 순수해진 도메인 객체에 대해 출력 문구를 완벽히 검증하는 테스트(`consoleUmpire.test.ts`)를 작성/수정해 보세요.

### ✅ 달성 기준
리팩토링 후 다음 테스트를 모두 작성하고 Green인지 확인하세요:
- [ ] 1스트라이크일 때 `"1스트라이크"` 반환
- [ ] 3스트라이크일 때 게임 종료 메시지 포함
- [ ] 낫싱(0볼 0스트라이크)일 때 `"낫싱"` 반환
- [ ] 1볼 1스트라이크일 때 `"1볼 1스트라이크"` 반환

## ⌨️ VSCode 리팩토링 단축키

| 기능 | Windows/Linux | macOS |
|------|--------------|-------|
| **함수 추출** (Extract Function) | `Ctrl + .` → 선택 | `⌘ + .` → 선택 |
| **이름 변경** (Rename Symbol) | `F2` | `F2` |
| **참조 찾기** (Find All References) | `Shift + F12` | `Shift + F12` |
| **정의로 이동** (Go to Definition) | `F12` | `F12` |

> 💡 `console.log`를 제거한 뒤 반환값을 만들 때, `Shift + F12`로 어디서 호출하는지 먼저 확인하세요!

## 📚 참고 자료
- [FE] 읽기 좋은 코드 작성법 → §4.1 관심사의 분리
- [FE] 테스트 코드 가이드 → §5 테스트하기 어려운 영역 분리하기

